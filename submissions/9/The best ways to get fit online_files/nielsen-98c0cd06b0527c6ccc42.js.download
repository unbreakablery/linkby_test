(window.webpackJsonp_gp_web_frontend=window.webpackJsonp_gp_web_frontend||[]).push([["nielsen"],{"./src/ts/components/nielsen/nielsen.ts":(e,i,t)=>{"use strict";t.r(i),t.d(i,{nielsenComponent:()=>o,init:()=>d});var n=t("./src/ts/script-loader/script-loader.ts");const o=()=>{const e={loadScripts:async()=>{try{const e=await(0,n.iM)({src:"https://secure-au.imrworldwide.com/v60.js",timeout:"2000",load:"true",parent:"body"});window.nol_t({cid:"timeout-au",content:"0",server:"secure-gl"}).record().post();const i=await(0,n.iM)({src:"https://secure-dcr.imrworldwide.com/novms/js/2/ggcmb510.js",timeout:"2000",load:"true",parent:"body"});return(()=>{var e,i,t,n,o,d,s,a,l,r,c,u,p,v,w;const m=(null!==(s=(null===(t=null===(i=null===(e=window.digitalData)||void 0===e?void 0:e.page)||void 0===i?void 0:i.pageInfo)||void 0===t?void 0:t.city)||(null===(d=null===(o=null===(n=window.digitalData)||void 0===n?void 0:n.page)||void 0===o?void 0:o.attributes)||void 0===d?void 0:d.siteCity))&&void 0!==s?s:"").toLowerCase(),g={melbourne:{id:"P71BC7C30-37EF-4719-A8CB-9D94ACAA79B7",section:"Time Out Melbourne"},sydney:{id:"PFB077FAF-28D3-4A5E-895C-C0B3118B03CA",section:"Time Out Sydney"},brisbane:{id:"P0136F4F3-912F-4EC3-8F72-B5A4A2F0F871",section:"Time Out Brisbane"},adelaide:{id:"PE79AF0E0-C9EB-4F1D-8469-4ED6470D79E1",section:"Time Out Adelaide"},perth:{id:"P72F25E4A-2970-4D12-8B71-166614838E82",section:"Time Out Perth"}},b={sfcode:"dcr",apid:null!==(l=null===(a=g[m])||void 0===a?void 0:a.id)&&void 0!==l?l:"P91030027-67F4-4268-B65E-117552E163A8",apn:"TimeOut",nsdkv:"511"},C=window.NOLCMB.getInstance(b.apid);C.ggInitialize(b);const E=null!==(p=null===(u=null===(c=null===(r=window.digitalData)||void 0===r?void 0:r.page)||void 0===c?void 0:c.pageInfo)||void 0===u?void 0:u.pageName)&&void 0!==p?p:"";C.ggPM("staticstart",{type:"static",dataSrc:"cms",assetid:`${m}:${E}`.replace(/('|")/g,'"').replace(/ /g,"-").toLowerCase(),section:null!==(w=null===(v=g[m])||void 0===v?void 0:v.section)&&void 0!==w?w:"Time Out - brand only"})})(),{nielsen:e,nielsenCmb:i}}catch(e){console.error(e)}},bindEvents:()=>(e.loadScripts(),{loadScripts:e.loadScripts})};return e},d=()=>{const e=Math.floor(1e4*Math.random());return{listeners:o().bindEvents(),componentId:"nielsen-"+e}}}}]);