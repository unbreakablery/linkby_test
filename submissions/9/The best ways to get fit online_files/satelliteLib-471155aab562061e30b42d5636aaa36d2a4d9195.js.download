// For license information, see `https://assets.adobedtm.com/c14561a2dfc3/ce17cde24645/launch-11fb20e86de0.js`.
window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2022-03-29T10:39:01Z",turbineBuildDate:"2021-08-11T20:25:49Z",turbineVersion:"27.2.0"},environment:{id:"EN4059d9050ff04fa5bd1bf98f70de56ee",stage:"production"},dataElements:{"PageInfo:HourOfDay":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.hourOfDay"}},"User:GigyaID":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.user[0].profile[0].profileInfo.gigyaID"}},"PageInfo:PageSize":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.pageSize"}},"PageInfo:ContentType":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.contentType"}},city:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.city"}},"destination url":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.destinationURL"}},"PageInfo:PageURL":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.destinationURL"}},"User:ProfileID":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.user[0].profile[0].profileInfo.profileID"}},"PageInfo:Pagination":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.pagination"}},"PageInfo:ReportSuites":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.reportSuites"}},"User:EmailUID":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.user[0].profile[0].profileInfo.uid"}},pageType:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.category.pageType"}},"PageInfo:PrimaryCategory":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.category.primaryCategory"}},timestamp:{defaultValue:"timestamp",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return Date.now()}}},"PageInfo:PageOrientation":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.pageOrientation"}},CommitID:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.commitId"}},"PageInfo:City":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.city"}},"User:GoogleID":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.user[0].profile[0].profileInfo.googleID"}},"tracking server":{defaultValue:"metrics.timeout.com",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"https:"==window.location.protocol?"smetrics.timeout.com":"metrics.timeout.com"}}},"Nav click Custom Link":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.event[0][0].attributes.linkTitle+" header"}}},"uid url param":{defaultValue:"",storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"uid",caseInsensitive:!0}},"PageInfo:Language":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.language"}},tracker:{defaultValue:"",storageDuration:"visitor",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return s2Analytics}}},"PageInfo:SiteSection":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.siteSection"}},"PageInfo:PageType":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.category.pageType"}},"PageInfo:SystemEnvironment":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.sysEnv"}},"PageInfo:Author":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.author"}},"User:KruxID":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.user[0].profile[0].profileInfo.kruxID"}},"PageInfo:SubCategory":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.category.subCategory1"}},"report suites":{defaultValue:"timeoutworldwide",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.reportSuites"}},"page name":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("undefined"!=typeof digitalData)var e=digitalData.page.category.pageType||digitalData.page.pageInfo.city,t=digitalData.page.pageInfo.pageName;else t=document.title;var n=/^\/[^/]+\/my[/]?/,r=window.location.pathname,a=window.location.hash;return n.test(r)&&"#/"!=a&&(t+=" : "+window.location.hash.replace("/","")),e+" : "+t}}},"PageInfo:ContentID":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.contentID"}},tocid:{defaultValue:"",storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"tocid",caseInsensitive:!0}},cid:{defaultValue:"",storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"cid",caseInsensitive:!0}},"PageInfo:DayOfWeek":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.dayOfWeek"}},"user account url":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=/^\/[^/]+\/my[/]?/,t=window.location.pathname;if(e.test(t))return window.location.href}}},"PageInfo:PublishDate":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.publishDate"}},"PageInfo:PageName":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.pageName"}},"PageInfo:ContentTitle":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.contentTitle"}},"PageInfo:ReferringURL":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.referringURL"}},isPremium:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.evfAttributes.isPremium"}},refid:{defaultValue:"",storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"refid",caseInsensitive:!0}},"PageInfo:Country":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.country"}},"User:LoginStatus":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.user[0].profile[0].loginStatus"}},gclid:{defaultValue:"",storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"gclid",caseInsensitive:!0}},"PageInfo:PageID":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.pageID"}},"PageInfo:PageViewType":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.pageViewType"}}},extensions:{core:{displayName:"Core",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP0fe6b1b3170b414e92e8f7ad4f74f857/",modules:{"core/src/lib/dataElements/javascriptVariable.js":{name:"javascript-variable",displayName:"JavaScript Variable",script:function(e,t,n){"use strict";var r=n("../helpers/getObjectProperty.js");e.exports=function(e){return r(window,e.path)}}},"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source(t)}}},"core/src/lib/dataElements/queryStringParameter.js":{name:"query-string-parameter",displayName:"Query String Parameter",script:function(e,t,n){"use strict";var r=n("@adobe/reactor-window"),a=n("@adobe/reactor-query-string");e.exports=function(e){var t=a.parse(r.location.search);if(!e.caseInsensitive)return t[e.name];for(var n=e.name.toLowerCase(),o=Object.keys(t),i=0;i<o.length;i++){var s=o[i];if(s.toLowerCase()===n)return t[s]}}}},"core/src/lib/events/libraryLoaded.js":{name:"library-loaded",displayName:"Library Loaded (Page Top)",script:function(e,t,n){"use strict";var r=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){r.registerLibraryLoadedTrigger(t)}}},"core/src/lib/conditions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source.call(t.element,t,t.target)}}},"core/src/lib/actions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,t,n,r){"use strict";var a,o,i,s=n("@adobe/reactor-document"),c=n("./helpers/decorateCode"),u=n("./helpers/loadCodeSequentially"),l=n("../../../node_modules/postscribe/dist/postscribe"),d=r.getExtensionSettings(),f=(a=function(e){l(s.body,e,{beforeWriteToken:function(e){return d.cspNonce&&"script"===e.tagName&&(e.attrs.nonce=d.cspNonce),e},error:function(e){r.logger.error(e.msg)}})},o=[],i=function(){if(s.body)for(;o.length;)a(o.shift());else setTimeout(i,20)},function(e){o.push(e),i()}),p=function(){if(s.currentScript)return s.currentScript.async;for(var e=s.querySelectorAll("script"),t=0;t<e.length;t++){var n=e[t];if(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/.test(n.src))return n.async}return!0}();e.exports=function(e,t){var n={settings:e,event:t},r=n.settings.source;if(r)return n.settings.isExternal?u(r).then((function(e){e&&f(c(n,e))})):void(p||"loading"!==s.readyState?f(c(n,r)):s.write?s.write(c(n,r)):f(c(n,r)))}}},"core/src/lib/events/domReady.js":{name:"dom-ready",displayName:"DOM Ready",script:function(e,t,n){"use strict";var r=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){r.registerDomReadyTrigger(t)}}},"core/src/lib/conditions/pathAndQuerystring.js":{name:"path-and-querystring",displayName:"Path And Query String",script:function(e,t,n){"use strict";var r=n("@adobe/reactor-document"),a=n("../helpers/textMatch");e.exports=function(e){var t=r.location.pathname+r.location.search;return e.paths.some((function(e){var n=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return a(t,n)}))}}},"core/src/lib/events/windowLoaded.js":{name:"window-loaded",displayName:"Window Loaded",script:function(e,t,n){"use strict";var r=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){r.registerWindowLoadedTrigger(t)}}},"core/src/lib/events/pageBottom.js":{name:"page-bottom",displayName:"Page Bottom",script:function(e,t,n){"use strict";var r=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){r.registerPageBottomTrigger(t)}}},"core/src/lib/conditions/valueComparison.js":{name:"value-comparison",displayName:"Value Comparison",script:function(e){"use strict";var t=function(e){return"number"==typeof e&&isFinite(e)},n=function(e){return"string"==typeof e||e instanceof String},r=function(e,t){return t&&n(e)?e.toLowerCase():e},a=function(e){return t(e)?String(e):e},o=function(e){return n(e)?Number(e):e},i=function(e){return function(t,r,o){return t=a(t),r=a(r),n(t)&&n(r)&&e(t,r,o)}},s=function(e){return function(n,r){return n=o(n),r=o(r),t(n)&&t(r)&&e(n,r)}},c=function(e){return function(t,n,a){return e(r(t,a),r(n,a))}},u={equals:c((function(e,t){return e==t})),doesNotEqual:function(){return!u.equals.apply(null,arguments)},contains:i(c((function(e,t){return-1!==e.indexOf(t)}))),doesNotContain:function(){return!u.contains.apply(null,arguments)},startsWith:i(c((function(e,t){return 0===e.indexOf(t)}))),doesNotStartWith:function(){return!u.startsWith.apply(null,arguments)},endsWith:i(c((function(e,t){return e.substring(e.length-t.length,e.length)===t}))),doesNotEndWith:function(){return!u.endsWith.apply(null,arguments)},matchesRegex:i((function(e,t,n){return new RegExp(t,n?"i":"").test(e)})),doesNotMatchRegex:function(){return!u.matchesRegex.apply(null,arguments)},lessThan:s((function(e,t){return e<t})),lessThanOrEqual:s((function(e,t){return e<=t})),greaterThan:s((function(e,t){return e>t})),greaterThanOrEqual:s((function(e,t){return e>=t})),isTrue:function(e){return!0===e},isTruthy:function(e){return Boolean(e)},isFalse:function(e){return!1===e},isFalsy:function(e){return!e}};e.exports=function(e){return u[e.comparison.operator](e.leftOperand,e.rightOperand,Boolean(e.comparison.caseInsensitive))}}},"core/src/lib/conditions/path.js":{name:"path",displayName:"Path Without Query String",script:function(e,t,n){"use strict";var r=n("@adobe/reactor-document"),a=n("../helpers/textMatch");e.exports=function(e){var t=r.location.pathname;return e.paths.some((function(e){var n=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return a(t,n)}))}}},"core/src/lib/helpers/getObjectProperty.js":{script:function(e){"use strict";e.exports=function(e,t){for(var n=t.split("."),r=e,a=0,o=n.length;a<o;a++){if(null==r)return;r=r[n[a]]}return r}}},"core/src/lib/events/helpers/pageLifecycleEvents.js":{script:function(e,t,n){"use strict";var r=n("@adobe/reactor-window"),a=n("@adobe/reactor-document"),o=-1!==r.navigator.appVersion.indexOf("MSIE 10"),i="WINDOW_LOADED",s="DOM_READY",c="PAGE_BOTTOM",u=[c,s,i],l=function(e,t){return{element:e,target:e,nativeEvent:t}},d={};u.forEach((function(e){d[e]=[]}));var f=function(e,t){u.slice(0,g(e)+1).forEach((function(e){m(t,e)}))},p=function(){return"complete"===a.readyState?i:"interactive"===a.readyState?o?null:s:void 0},g=function(e){return u.indexOf(e)},m=function(e,t){d[t].forEach((function(t){h(e,t)})),d[t]=[]},h=function(e,t){var n=t.trigger,r=t.syntheticEventFn;n(r?r(e):null)};r._satellite=r._satellite||{},r._satellite.pageBottom=f.bind(null,c),a.addEventListener("DOMContentLoaded",f.bind(null,s),!0),r.addEventListener("load",f.bind(null,i),!0),r.setTimeout((function(){var e=p();e&&f(e)}),0),e.exports={registerLibraryLoadedTrigger:function(e){e()},registerPageBottomTrigger:function(e){d[c].push({trigger:e})},registerDomReadyTrigger:function(e){d[s].push({trigger:e,syntheticEventFn:l.bind(null,a)})},registerWindowLoadedTrigger:function(e){d[i].push({trigger:e,syntheticEventFn:l.bind(null,r)})}}}},"core/src/lib/actions/helpers/decorateCode.js":{script:function(e,t,n,r){"use strict";var a=0,o=function(e){return e.settings.isExternal},i=function(e,t){return"<script>\n"+t+"\n</script>"},s=function(e,t){var n="__runScript"+ ++a;return _satellite[n]=function(t){t.call(e.event.element,e.event,e.event.target),delete _satellite[n]},'<script>_satellite["'+n+'"](function(event, target) {\n'+t+"\n});</script>"},c={javascript:function(e,t){return e.settings.global?i(e,t):s(e,t)},html:function(e,t){return o(e)?r.replaceTokens(t,e.event):t}};e.exports=function(e,t){return c[e.settings.language](e,t)}}},"core/src/lib/actions/helpers/loadCodeSequentially.js":{script:function(e,t,n){"use strict";var r=n("@adobe/reactor-promise"),a=n("./getSourceByUrl"),o=r.resolve();e.exports=function(e){var t=new r((function(t){var n=a(e);r.all([n,o]).then((function(e){var n=e[0];t(n)}))}));return o=t,t}}},"core/node_modules/postscribe/dist/postscribe.js":{script:function(e,t){var n,r;n=this,r=function(){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=r(n(1));e.exports=a.default},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function o(){}function i(){var e=g.shift();if(e){var t=d.last(e);t.afterDequeue(),e.stream=s.apply(void 0,e),t.afterStreamStart()}}function s(e,t,n){function r(e){e=n.beforeWrite(e),m.write(e),n.afterWrite(e)}(m=new l.default(e,n)).id=p++,m.name=n.name||m.id,c.streams[m.name]=m;var a=e.ownerDocument,s={close:a.close,open:a.open,write:a.write,writeln:a.writeln};u(a,{close:o,open:o,write:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r(t.join(""))},writeln:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r(t.join("")+"\n")}});var d=m.win.onerror||o;return m.win.onerror=function(e,t,r){n.error({msg:e+" - "+t+": "+r}),d.apply(m.win,[e,t,r])},m.write(t,(function(){u(a,s),m.win.onerror=d,n.done(),m=null,i()})),m}function c(e,t,n){if(d.isFunction(n))n={done:n};else if("clear"===n)return g=[],m=null,void(p=0);n=d.defaults(n,f);var r=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,n];return e.postscribe={cancel:function(){r.stream?r.stream.abort():r[1]=o}},n.beforeEnqueue(r),g.push(r),m||i(),e.postscribe}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=c;var l=a(n(2)),d=r(n(4)),f={afterAsync:o,afterDequeue:o,afterStreamStart:o,afterWrite:o,autoFix:!0,beforeEnqueue:o,beforeWriteToken:function(e){return e},beforeWrite:function(e){return e},done:o,error:function(e){throw new Error(e.msg)},releaseAsync:!1},p=0,g=[],m=null;u(c,{streams:{},queue:g,WriteStream:l.default})},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){var n=f+t,r=e.getAttribute(n);return l.existy(r)?String(r):r}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=f+t;l.existy(n)&&""!==n?e.setAttribute(r,n):e.removeAttribute(r)}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=a(n(3)),l=r(n(4)),d=!1,f="data-ps-",p="ps-style",g="ps-script",m=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),this.root=t,this.options=n,this.doc=t.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new u.default("",{autoFix:n.autoFix}),this.actuals=[t],this.proxyHistory="",this.proxyRoot=this.doc.createElement(t.nodeName),this.scriptStack=[],this.writeQueue=[],s(this.proxyRoot,"proxyof",0)}return e.prototype.write=function(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();l.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},e.prototype._callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},e.prototype._writeImpl=function(e){this.parser.append(e);for(var t=void 0,n=void 0,r=void 0,a=[];(t=this.parser.readToken())&&!(n=l.isScript(t))&&!(r=l.isStyle(t));)(t=this.options.beforeWriteToken(t))&&a.push(t);a.length>0&&this._writeStaticTokens(a),n&&this._handleScriptToken(t),r&&this._handleStyleToken(t)},e.prototype._writeStaticTokens=function(e){var t=this._buildChunk(e);return t.actual?(t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,d&&(t.proxyInnerHTML=this.proxyRoot.innerHTML),this._walkChunk(),d&&(t.actualInnerHTML=this.root.innerHTML),t):null},e.prototype._buildChunk=function(e){for(var t=this.actuals.length,n=[],r=[],a=[],o=e.length,i=0;i<o;i++){var s=e[i],c=s.toString();if(n.push(c),s.attrs){if(!/^noscript$/i.test(s.tagName)){var u=t++;r.push(c.replace(/(\/?>)/," "+f+"id="+u+" $1")),s.attrs.id!==g&&s.attrs.id!==p&&a.push("atomicTag"===s.type?"":"<"+s.tagName+" "+f+"proxyof="+u+(s.unary?" />":">"))}}else r.push(c),a.push("endTag"===s.type?c:"")}return{tokens:e,raw:n.join(""),actual:r.join(""),proxy:a.join("")}},e.prototype._walkChunk=function(){for(var e=void 0,t=[this.proxyRoot];l.existy(e=t.shift());){var n=1===e.nodeType;if(!n||!i(e,"proxyof")){n&&(this.actuals[i(e,"id")]=e,s(e,"id"));var r=e.parentNode&&i(e.parentNode,"proxyof");r&&this.actuals[r].appendChild(e)}t.unshift.apply(t,l.toArray(e.childNodes))}},e.prototype._handleScriptToken=function(e){var t=this,n=this.parser.clear();n&&this.writeQueue.unshift(n),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,(function(){t._onScriptDone(e)})))},e.prototype._handleStyleToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},e.prototype._writeStyleToken=function(e){var t=this._buildStyle(e);this._insertCursor(t,p),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},e.prototype._buildStyle=function(e){var t=this.doc.createElement(e.tagName);return t.setAttribute("type",e.type),l.eachKey(e.attrs,(function(e,n){t.setAttribute(e,n)})),t},e.prototype._insertCursor=function(e,t){this._writeImpl('<span id="'+t+'"/>');var n=this.doc.getElementById(t);n&&n.parentNode.replaceChild(e,n)},e.prototype._onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},e.prototype._onScriptDone=function(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},e.prototype._writeScriptToken=function(e,t){var n=this._buildScript(e),r=this._shouldRelease(n),a=this.options.afterAsync;e.src&&(n.src=e.src,this._scriptLoadHandler(n,r?a:function(){t(),a()}));try{this._insertCursor(n,g),n.src&&!r||t()}catch(e){this.options.error(e),t()}},e.prototype._buildScript=function(e){var t=this.doc.createElement(e.tagName);return l.eachKey(e.attrs,(function(e,n){t.setAttribute(e,n)})),e.content&&(t.text=e.content),t},e.prototype._scriptLoadHandler=function(e,t){function n(){e=e.onload=e.onreadystatechange=e.onerror=null}function r(){n(),null!=t&&t(),t=null}function a(e){n(),i(e),null!=t&&t(),t=null}function o(e,t){var n=e["on"+t];null!=n&&(e["_on"+t]=n)}var i=this.options.error;o(e,"load"),o(e,"error"),c(e,{onload:function(){if(e._onload)try{e._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){a({msg:"onload handler failed "+t+" @ "+e.src})}r()},onerror:function(){if(e._onerror)try{e._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){return void a({msg:"onerror handler failed "+t+" @ "+e.src})}a({msg:"remote script failed "+e.src})},onreadystatechange:function(){/^(loaded|complete)$/.test(e.readyState)&&r()}})},e.prototype._shouldRelease=function(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},e}();t.default=m},function(e){var t;t=function(){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=r(n(1));e.exports=a.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var i=a(n(2)),s=a(n(3)),c=r(n(6)),u=n(5),l={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},d=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),this.stream=n;var a=!1,s={};for(var u in i)i.hasOwnProperty(u)&&(r.autoFix&&(s[u+"Fix"]=!0),a=a||s[u+"Fix"]);a?(this._readToken=(0,c.default)(this,s,(function(){return t._readTokenImpl()})),this._peekToken=(0,c.default)(this,s,(function(){return t._peekTokenImpl()}))):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return e.prototype.append=function(e){this.stream+=e},e.prototype.prepend=function(e){this.stream=e+this.stream},e.prototype._readTokenImpl=function(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},e.prototype._peekTokenImpl=function(){for(var e in l)if(l.hasOwnProperty(e)&&l[e].test(this.stream)){var t=s[e](this.stream);if(t)return"startTag"===t.type&&/script|style/i.test(t.tagName)?null:(t.text=this.stream.substr(0,t.length),t)}},e.prototype.peekToken=function(){return this._peekToken()},e.prototype.readToken=function(){return this._readToken()},e.prototype.readTokens=function(e){for(var t=void 0;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},e.prototype.clear=function(){var e=this.stream;return this.stream="",e},e.prototype.rest=function(){return this.stream},e}();for(var f in t.default=d,d.tokenToString=function(e){return e.toString()},d.escapeAttributes=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=(0,u.escapeQuotes)(e[n],null));return t},d.supports=i,i)i.hasOwnProperty(f)&&(d.browserHasFlaw=d.browserHasFlaw||!i[f]&&f)},function(e,t){"use strict";t.__esModule=!0;var n=!1,r=!1,a=window.document.createElement("div");try{var o="<P><I></P></I>";a.innerHTML=o,t.tagSoup=n=a.innerHTML!==o}catch(e){t.tagSoup=n=!1}try{a.innerHTML="<P><i><P></P></i></P>",t.selfClose=r=2===a.childNodes.length}catch(e){t.selfClose=r=!1}a=null,t.tagSoup=n,t.selfClose=r},function(e,t,n){"use strict";function r(e){var t=e.indexOf("-->");if(t>=0)return new u.CommentToken(e.substr(4,t-1),t+3)}function a(e){var t=e.indexOf("<");return new u.CharsToken(t>=0?t:e.length)}function o(e){var t,n,r;if(-1!==e.indexOf(">")){var a=e.match(l.startTag);if(a){var o=(t={},n={},r=a[2],a[2].replace(l.attr,(function(e,a){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(t[arguments[5]]="",n[arguments[5]]=!0):t[a]=arguments[2]||arguments[3]||arguments[4]||l.fillAttr.test(a)&&a||"":t[a]="",r=r.replace(e,"")})),{v:new u.StartTagToken(a[1],a[0].length,t,n,!!a[3],r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===(void 0===o?"undefined":c(o)))return o.v}}}function i(e){var t=o(e);if(t){var n=e.slice(t.length);if(n.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var r=n.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(r)return new u.AtomicTagToken(t.tagName,r[0].length+t.length,t.attrs,t.booleanAttrs,r[1])}}}function s(e){var t=e.match(l.endTag);if(t)return new u.EndTagToken(t[1],t[0].length)}t.__esModule=!0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.comment=r,t.chars=a,t.startTag=o,t.atomicTag=i,t.endTag=s;var u=n(4),l={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=void 0;var a=n(5),o=(t.Token=function e(t,n){r(this,e),this.type=t,this.length=n,this.text=""},t.CommentToken=function(){function e(t,n){r(this,e),this.type="comment",this.length=n||(t?t.length:0),this.text="",this.content=t}return e.prototype.toString=function(){return"<!--"+this.content},e}(),t.CharsToken=function(){function e(t){r(this,e),this.type="chars",this.length=t,this.text=""}return e.prototype.toString=function(){return this.text},e}(),t.TagToken=function(){function e(t,n,a,o,i){r(this,e),this.type=t,this.length=a,this.text="",this.tagName=n,this.attrs=o,this.booleanAttrs=i,this.unary=!1,this.html5Unary=!1}return e.formatTag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="<"+e.tagName;for(var r in e.attrs)if(e.attrs.hasOwnProperty(r)){n+=" "+r;var o=e.attrs[r];void 0!==e.booleanAttrs&&void 0!==e.booleanAttrs[r]||(n+='="'+(0,a.escapeQuotes)(o)+'"')}return e.rest&&(n+=" "+e.rest),e.unary&&!e.html5Unary?n+="/>":n+=">",null!=t&&(n+=t+"</"+e.tagName+">"),n},e}());t.StartTagToken=function(){function e(t,n,a,o,i,s){r(this,e),this.type="startTag",this.length=n,this.text="",this.tagName=t,this.attrs=a,this.booleanAttrs=o,this.html5Unary=!1,this.unary=i,this.rest=s}return e.prototype.toString=function(){return o.formatTag(this)},e}(),t.AtomicTagToken=function(){function e(t,n,a,o,i){r(this,e),this.type="atomicTag",this.length=n,this.text="",this.tagName=t,this.attrs=a,this.booleanAttrs=o,this.unary=!1,this.html5Unary=!1,this.content=i}return e.prototype.toString=function(){return o.formatTag(this,this.content)},e}(),t.EndTagToken=function(){function e(t,n){r(this,e),this.type="endTag",this.length=n,this.text="",this.tagName=t}return e.prototype.toString=function(){return"</"+this.tagName+">"},e}()},function(e,t){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?e.replace(/([^"]*)"/g,(function(e,t){return/\\/.test(t)?t+'"':t+'\\"'})):t}t.__esModule=!0,t.escapeQuotes=n},function(e,t){"use strict";function n(e){return e&&"startTag"===e.type&&(e.unary=s.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function r(e,t){var r=e.stream,a=n(t());return e.stream=r,a}function a(e,t){var n=t.pop();e.prepend("</"+n.tagName+">")}function o(){var e=[];return e.last=function(){return this[this.length-1]},
e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,n=0;t=this[n];n++)if(t.tagName===e)return!0;return!1},e}function i(e,t,i){function s(){var t=r(e,i);t&&l[t.type]&&l[t.type](t)}var u=o(),l={startTag:function(n){var r=n.tagName;"TR"===r.toUpperCase()&&u.lastTagNameEq("TABLE")?(e.prepend("<TBODY>"),s()):t.selfCloseFix&&c.test(r)&&u.containsTagName(r)?u.lastTagNameEq(r)?a(e,u):(e.prepend("</"+n.tagName+">"),s()):n.unary||u.push(n)},endTag:function(n){u.last()?t.tagSoupFix&&!u.lastTagNameEq(n.tagName)?a(e,u):u.pop():t.tagSoupFix&&(i(),s())}};return function(){return s(),n(i())}}t.__esModule=!0,t.default=i;var s=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,c=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}])},e.exports=t()},function(e,t){"use strict";function n(e){return null!=e}function r(e){return"function"==typeof e}function a(e,t,n){var r=void 0,a=e&&e.length||0;for(r=0;r<a;r++)t.call(n,e[r],r)}function o(e,t,n){for(var r in e)e.hasOwnProperty(r)&&t.call(n,r,e[r])}function i(e,t){return e=e||{},o(t,(function(t,r){n(e[t])||(e[t]=r)})),e}function s(e){try{return Array.prototype.slice.call(e)}catch(r){var t=(n=[],a(e,(function(e){n.push(e)})),{v:n});if("object"===(void 0===t?"undefined":f(t)))return t.v}var n}function c(e){return e[e.length-1]}function u(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(t))}function l(e){return u(e,"script")}function d(e){return u(e,"style")}t.__esModule=!0;var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.existy=n,t.isFunction=r,t.each=a,t.eachKey=o,t.defaults=i,t.toArray=s,t.last=c,t.isTag=u,t.isScript=l,t.isStyle=d}])},"object"==typeof t&&"object"==typeof e?e.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof t?t.postscribe=r():n.postscribe=r()}},"core/src/lib/actions/helpers/getSourceByUrl.js":{script:function(e,t,n){"use strict";var r=n("@adobe/reactor-load-script"),a=n("@adobe/reactor-promise"),o={},i={},s=function(e){return i[e]||(i[e]=r(e)),i[e]};_satellite.__registerScript=function(e,t){o[e]=t},e.exports=function(e){return o[e]?a.resolve(o[e]):new a((function(t){s(e).then((function(){t(o[e])}),(function(){t()}))}))}}},"core/src/lib/helpers/textMatch.js":{script:function(e){"use strict";e.exports=function(e,t){if(null==t)throw new Error("Illegal Argument: Pattern is not present");return null!=e&&("string"==typeof t?e===t:t instanceof RegExp&&t.test(e))}}}}}},company:{orgId:"5D380C3A53DB50950A490D4D@AdobeOrg"},property:{name:"TO - Global Platform (V4) (DTM - 2019-12-09 03:48:03)",settings:{domains:["timeout.cat","timeout.com","timeout.es","timeout.fr","timeoutmexico.mx","timeout.pt"],undefinedVarsReturnEmpty:!1,ruleComponentSequencingEnabled:!1},id:"PRcf91facaea8f497482a65f4671480a12"},rules:[{id:"RL8b0fa5ee28844818acdfb7de0ddc0c1f",name:"TOS-1475 - Tokyo EN",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Tokyo"===window.digitalData.page.pageInfo.city&&"en"===window.digitalData.page.pageInfo.language}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<script\n  type=\"text/javascript\"\n  src=\"//downloads.mailchimp.com/js/signup-forms/popup/unique-methods/embed.js\"\n  data-dojo-config=\"usePlainJson: true, isDebug: false\"\n></script>\n<script type=\"text/javascript\">\n  window.dojoRequire(['mojo/signup-forms/Loader'], function(L) {\n    L.start({\n      baseUrl: 'mc.us19.list-manage.com',\n      uuid: '4c64c52db1ca5bb5c4fb618d1',\n      lid: '34d0e78af9',\n      uniqueMethods: true,\n    });\n  });\n</script>",language:"html"}}]},{id:"RLf6e137e216334867b61b94f023fbe766",name:"ADS-332 suppress newsletter widget on specific page",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/london/things-to-do/the-brentford-project",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/c14561a2dfc3/ce17cde24645/394a873f99e0/RCa8ad35101d5b4e189c13a1897e4a9101-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL16653d1d27f8470f996dcec95e72090f",name:"TOS-835 - Clicktripz",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){function e(e){return"travel (category)"===e||"hotels (category)"===e||"travel and hotels (category)"===e}function t(e){return["/paris/voyage","/lisboa/pt/viagens","/tokyo/travel","/barcelona/travel-information","/barcelona/es/terres-de-l-ebre"].filter((function(t){return 0===e.indexOf(t)})).length>0}var n=digitalData.page.category.primaryCategory;return"true"===digitalData.page.pageInfo.isOO&&e(n)||t(window.location.pathname)}}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"^\\/usa\\/.*$",valueIsRegex:!0},{value:"^\\/sydney\\/.*$",valueIsRegex:!0},{value:"^\\/melbourne\\/.*$",valueIsRegex:!0},{value:"^\\/perth\\/.*$",valueIsRegex:!0},{value:"^\\/adelaide\\/.*$",valueIsRegex:!0},{value:"^\\/brisbane\\/.*$",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/c14561a2dfc3/ce17cde24645/394a873f99e0/RC3cf40ac01b484c3c973b13ee93f05f57-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7fb1910f22b2448c8a3ff7f1f0ded243",name:"Hide language multiple cities",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!(!window.digitalData||!["Worldwide","S\xe3o Paulo","Rio de Janeiro"].includes(digitalData.page.pageInfo.city))||null!==window.location.pathname.match(/^\/france|\/hamburg|\/frankfurt|\/munich|\/duesseldorf|\/dusseldorf|\/dallas|\/argentina|\/alicante|\/benalmadena|\/benidorm|\/canary-islands|\/fuerteventura|\/granada|\/gran-canaria|\/ibiza|\/lanzarote|\/majorca|\/malaga|\/tenerife|\/japan|\/bilbao|\/ensenada|\/mexico-country|\/riviera-maya|\/tulum|\/koh-samui|\/krabi|\/thailand|\/berlin\/en|\/duesseldorf|\/frankfurt|\/hamburg|\/munich|\/usa|\/es\/estados-unidos.*$/)}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<style>\n  .lang-picker, .lang-picker__list {\n  \tdisplay: none !important;\n  }\n</style>",language:"html"}}]},{id:"RLe8480f025f4e4922b082c4dffbd1eb6c",name:"CMP on legal pages",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return["/ca/politica-de-cookies","/cookie-policy","/es/politica-de-cookies","/fr/politique-concernant-les-cookies","/ko/\ucfe0\ud0a4-\uc815\ucc45","/pt/politica-de-cookies","/ko/%EC%BF%A0%ED%82%A4-%EC%A0%95%EC%B1%85","/hk/cookies-%E6%94%BF%E7%AD%96","/hk/cookies-\u653f\u7b56"].includes(window.location.pathname)}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"(function(){\n  var links = document.querySelectorAll('[href=\"#\"]');\n  \n  links.forEach(function(link){\n    link.addEventListener('click', function(){\n      window.__cmp('displayConsentUi')\n    });\n  });\n})();",language:"javascript"}}]},{id:"RL237f78edcef44de99945f9c60817c7a1",name:"Tokyo - Hotjar",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"^/tokyo",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"(function(h,o,t,j,a,r){\n    h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments);};\n    h._hjSettings={hjid:484849,hjsv:6};\n    a=o.getElementsByTagName('head')[0];\n    r=o.createElement('script');r.async=1;\n    r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;\n    a.appendChild(r);\n})(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');",language:"javascript"}}]},{id:"RL6001652665cc4ee0aa1500f77f2b97d9",name:"Pages to have Outbrain removed",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/newyork/travel/escape-to-the-catskills",valueIsRegex:!0},{value:"/newyork/travel/the-best-eating-and-drinking-in-the-catskills",valueIsRegex:!0},{value:"/newyork/travel/10-reasons-you-need-to-visit-the-catskills",valueIsRegex:!0},{value:"/newyork/travel/catskills-for-adventurers-10-wild-outdoor-activities",valueIsRegex:!0},{value:"/newyork/travel/20-secret-gems-you-had-no-idea-about-in-the-catskills",valueIsRegex:!0},{value:"/newyork/things-to-do/ten-best-places-to-go-leaf-peeping-in-the-catskills",valueIsRegex:!0},{value:"/newyork/iris-and-virgil-flower-subscription-guide",valueIsRegex:!0},{value:"/london/things-to-do/the-cultural-tfl-map",valueIsRegex:!0},{value:"^\\/london\\/things-to-do\\/love-local-battersea",valueIsRegex:!0},{value:"^\\/london\\/things-to-do\\/welcome-back-london",valueIsRegex:!0},{value:"^\\/london\\/things-to-do\\/hd-cutz-the-england-teams-hairdresser",valueIsRegex:!0},{value:"^\\/london\\/things-to-do\\/love-local-archway",valueIsRegex:!0},{value:"^\\/london\\/things-to-do\\/the-top-london-chefs-running-a-greasy-spoon",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"(function(win, doc) {\n  function onDomReady() {\n    var outbrainContainer = document.querySelector('.OUTBRAIN');\n    var outbrainWrapper =\n      document.querySelector('div[data-module=\"outbrain\"]') ||\n      document.querySelector('div[data-component=\"outbrain\"]');\n\n    if (outbrainContainer !== null) {\n      outbrainContainer.classList.add('xs-hide');\n    }\n\n    if (outbrainWrapper !== null) {\n      outbrainWrapper.remove();\n    }\n  }\n\n  function setup() {\n    win._TO = window._TO || {};\n    win._TO._dtmDisableModules = win._TO._dtmDisableModules || [];\n    win._TO._dtmDisableModules.push('outbrain');\n\n    doc.addEventListener('DOMContentLoaded', onDomReady, false);\n  }\n\n  setup();\n})(window, document);\n",language:"javascript"}}]},{id:"RLbc67ced58cc44798836f3ecf3ef81dfb",name:"TOS-891 - Digital Magazine",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"^\\/hong-kong\\/things-to-do\\/time-out-hong-kong-digital-edition",valueIsRegex:!0},{value:"^\\/hong-kong\\/hk\\/%E5%A5%BD%E5%8E%BB%E8%99%95\\/time-out-%E9%A6%99%E6%B8%AF%E9%9B%BB%E5%AD%90%E7%89%88",valueIsRegex:!0},{value:"^\\/singapore\\/time-out-singapore-digital-edition",valueIsRegex:!0},{value:"^\\/paris\\/digitalmagazine",valueIsRegex:!0},{value:"^\\/london\\/digitalmagazine",valueIsRegex:!0},{value:"^\\/barcelona\\/es\\/revista",valueIsRegex:!0},{value:"^\\/barcelona\\/ca\\/revista",valueIsRegex:!0},{value:"^\\/madrid\\/es\\/revista",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"(function(win){\n  win.digitalMagazinePage = true;\n})(window);",language:"javascript"}}]},{id:"RL50c5aed6ce864658bf05009728c89bb2",name:"TOS-2589 - selve serve form on to domain",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"corporate"===window.digitalData.page.category.pageType&&"London"===window.digitalData.page.pageInfo.city&&143082===window.digitalData.page.pageInfo.pageID}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<style>\n.form-enquiry-wrap {\n  display: flex;\n  width: 100%;\n  height: 100%;\n  flex-direction: column;\n  overflow: hidden;\n  min-height: 900px;\n}\n\n.corporate_page header h1 {\n  border: 0;\n  clip: rect(0 0 0 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.corporate_page header h2 {\n  display: none;\n}\n\n@media (min-width: 768px) {\n  .form-enquiry-wrap {\n    min-height: 800px;\n  }\n}\n\n.iframe-form-enquiry {\n  flex-grow: 1;\n  border: none;\n  margin: 0;\n  padding: 0;\n  width: 100%;\n}\n</style>",language:"html"}}]},{id:"RL6fbb4ce9fccd40b4973138cc09e3d356",name:"TOS-369 Remove Ads",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/barcelona/ca/que-fer/comunitat-time-out-barcelona",valueIsRegex:!0},{value:"/barcelona/es/que-hacer/comunidad-time-out-barcelona",valueIsRegex:!0},{value:"/london/shopping/time-out-london-membership",valueIsRegex:!0},{value:"/newyork/shopping/time-out-new-york-membership",valueIsRegex:!0},{value:"/lisboa/pt/coisas-para-fazer/torne-se-um-membro-do-clube-time-out-lisboa",valueIsRegex:!0},{value:"/barcelona/ca/que-fer/forma-part-de-la-comunitat-time-out",valueIsRegex:!0},{value:"/barcelona/es/que-fer/forma-parte-de-la-comunitat-time-out",valueIsRegex:!0},{value:"/london/shopping/buy-time-out-membership",valueIsRegex:!0},{value:"/newyork/shopping/buy-time-out-new-york-membership",valueIsRegex:!0},{value:"/lisboa/pt/compras/comprar-adesao-time-out-lisboa",valueIsRegex:!0},{value:"/kuala-lumpur/nightlife/contest-win-a-pair-of-tickets-to-zouk-gentings-grand-opening",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"window.preventAds = true;",language:"javascript"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"var ob = document.querySelector('.OUTBRAIN');\nvar side = document.querySelector('.side_content');\n\nif (ob) ob.remove();\nif (side) side.remove();",language:"javascript"}}]},{id:"RLde52096471484675a04eb8d8e90649fa",name:"CCPA Privacy Notice Pages",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/c14561a2dfc3/ce17cde24645/394a873f99e0/RC3fa63cac290741f7a11fa4c0b2db236c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6a6c1105dbdf4fd998d22bd1cc373c87",name:"TOS-936 - TFL staging",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"^\\/london\\/things-to-do\\/the-cultural-tfl-map-staging",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'(function () {\n  var siteVersion = digitalData.page.pageInfo.version || 4;\n\n  var elems = (siteVersion === 5) ? getV5() : getV4();\n  elems[0].insertBefore(elems[1], elems[0].querySelector("h1"));\n\n  function getV4() {\n    var placement = document.querySelector(\'.listfeature__header\');\n    var heroDiv = document.createElement("div");\n    heroDiv.setAttribute("class", "xs-order-1 hero__image");\n\n    var imageDiv = document.createElement("div");\n    imageDiv.setAttribute("class", "image_wrapper aspect-ratio-4-3");\n\n    var iframeMap = getIframe();\n    iframeMap.setAttribute(\n      "class",\n      "xs-absolute xs-full-height xs-t0 xs-b0 xs-r0 xs-l0 xs-col-12"\n    );\n\n    imageDiv.appendChild(iframeMap);\n    heroDiv.appendChild(imageDiv);\n\n    return [placement, heroDiv];\n  }\n\n  function getV5() {\n    var placement = document.querySelector(\'[class^="_heroContainer"] > [class^="_container"]\');\n    var iframeMap = getIframe();\n    iframeMap.setAttribute(\'style\', \'width:100%; aspect-ratio:4/3; border:none;\')\n\n    return [placement, iframeMap];\n  }\n\n  function getIframe(){\n    var iframeMap = document.createElement("iframe");\n    iframeMap.setAttribute("src", "https://tflmap.timeout.com/summer-2021/");\n    iframeMap.setAttribute("scrolling", "no");\n    return iframeMap;\n  }\n})();\n',language:"javascript"}}]},{id:"RLe7c1c4ea2e8f4987a115cd248a4d77d0",name:"TOS-633 - TFL Map ",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"\\/london\\/things-to-do\\/the-cultural-tfl-map(?!-staging)",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'(function () {\n  var siteVersion = digitalData.page.pageInfo.version || 4;\n\n  var elems = (siteVersion === 5) ? getV5() : getV4();\n  elems[0].insertBefore(elems[1], elems[0].querySelector("h1"));\n\n  function getV4() {\n    var placement = document.querySelector(\'.listfeature__header\');\n    var heroDiv = document.createElement("div");\n    heroDiv.setAttribute("class", "xs-order-1 hero__image");\n\n    var imageDiv = document.createElement("div");\n    imageDiv.setAttribute("class", "image_wrapper aspect-ratio-4-3");\n\n    var iframeMap = getIframe();\n    iframeMap.setAttribute(\n      "class",\n      "xs-absolute xs-full-height xs-t0 xs-b0 xs-r0 xs-l0 xs-col-12"\n    );\n\n    imageDiv.appendChild(iframeMap);\n    heroDiv.appendChild(imageDiv);\n\n    return [placement, heroDiv];\n  }\n\n  function getV5() {\n    var placement = document.querySelector(\'[class^="_heroContainer"] > [class^="_container"]\');\n    var iframeMap = getIframe();\n    iframeMap.setAttribute(\'style\', \'width:100%; aspect-ratio:4/3; border:none;\')\n\n    return [placement, iframeMap];\n  }\n\n  function getIframe(){\n    var iframeMap = document.createElement("iframe");\n    iframeMap.setAttribute("src", "https://tflmap.timeout.com/summer-2021/");\n    iframeMap.setAttribute("scrolling", "no");\n    return iframeMap;\n  }\n})();\n',language:"javascript"}}]},{id:"RLe3b9e1c8f4a44a9ca8755e66e84ebf34",name:"videos on posts",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<style>\n  .blog_post .video {\n    width: 100%;\n  }\n</style>",language:"html"}}]},{id:"RL2b64d74535ef4e6bbe906cd22ea38855",name:"TOS-820 - Newsletter widget pages",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"^.*\\/(paris-)*newsletter(\\?.*)*$",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"(function(){\n  window._TO = window._TO || {};\n  window._TO.isNewsletterLanding = true;\n  window.preventAds = true;  \n})();\n",language:"javascript"}}]},{id:"RLe7cd0445976a4311b8d534500b18d4e3",name:"TOS-1475 - Tokyo JA",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Tokyo"===window.digitalData.page.pageInfo.city&&"ja"===window.digitalData.page.pageInfo.language}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<script\n  type=\"text/javascript\"\n  src=\"//downloads.mailchimp.com/js/signup-forms/popup/unique-methods/embed.js\"\n  data-dojo-config=\"usePlainJson: true, isDebug: false\"\n></script>\n<script type=\"text/javascript\">\n  window.dojoRequire(['mojo/signup-forms/Loader'], function(L) {\n    L.start({\n      baseUrl: 'mc.us19.list-manage.com',\n      uuid: '4c64c52db1ca5bb5c4fb618d1',\n      lid: '1ef6236230',\n      uniqueMethods: true,\n    });\n  });\n</script>",language:"html"}}]},{id:"RL3e7cf2964c734c1bae4a0903ce66f375",name:"Barcelona - Form",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/barcelona/ca/teatre/en-parallel-rent",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<style>\n#experiences {\n   min-height: 815px;\n}\n  \n@media (min-width: 480px) {\n  #experiences {\n  \tmin-height: 645px;\n  }\n}\n  \n@media (min-width: 1150px) {\n  #experiences {\n  \tmin-height: 520px;\n  }\n}\n</style>",language:"html"}}]},{id:"RLf17cd056db9843ed98851676f39befe9",name:"Attractions PPC traffic",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%tocid%",rightOperand:"~ppc.*~attractions"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"attractions (category)"===digitalData.page.category.primaryCategory}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"window.preventAds = true;",language:"javascript"}}]},{id:"RLb67e17d801b74d859e2837d91dbfef39",name:"Remove vidme",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/c14561a2dfc3/ce17cde24645/394a873f99e0/RC28e785c950014eeeb39091c5aa05d0fc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1d1f960be8ee4c898a6ae0d16ea8513e",name:"Global button styles (temp)",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<style>\n  .global_button {\n    background: #d31a22;\n    border: 1px solid #d31a22;\n    border-radius: .4rem;\n    box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.15);\n    color: white !important;\n    cursor: pointer;\n    font-weight: 700;\n    margin-bottom: 2.5rem;\n    padding: 1rem 4.5rem;\n    text-decoration: none !important;\n  }\n  \n  .global_button--large {\n    background: #d31a22;\n    border: 1px solid #d31a22;\n    border-radius: .4rem;\n    box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.15);\n    color: white !important;\n    cursor: pointer;\n    font-weight: 700;\n    margin-bottom: 2.5rem;\n    padding: 1rem 4.5rem;\n    text-decoration: none !important;\n    font-size: 1.8rem;\n    line-height: 2rem;\n  }\n  \n  @media screen and (min-width: 960px) {\n    .global_button--large {\n    font-size: 2.6rem;\n    line-height: 2.8rem;\n    }\n  }\n  \n  \n  .global_button:hover, .global_button:active, .global_button:focus,\n  .global_button--large:hover, .global_button--large:active, .global_button--large:focus {\n    background-color: #bc161e;\n    border-color: #bc161e;\n    text-decoration: none !important;\n  }\n</style>",language:"html"}}]},{id:"RL61f0a6146dd442a08770cc06e4c18ae5",name:"DRD-257 Outbrain 1-1",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/c14561a2dfc3/ce17cde24645/394a873f99e0/RC572aeebfa865486e91f7b21c914a2e20-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL699c3bd1de52462bb5908d8b30a66c05",name:"Madrid Quiz",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"\\/barcelona\\/es\\/es_ES\\/pages/131957",valueIsRegex:!0},{value:"\\/barcelona\\/es\\/viaje\\/gana-dos-vuelos-a-nueva-york",valueIsRegex:!0},{value:"\\/barcelona\\/ca\\/ca\\/pages\\/131958",valueIsRegex:!0},{value:"\\/barcelona\\/ca\\/viatge\\/guanya-dos-vols-a-nova-york",valueIsRegex:!0},{value:"\\/barcelona\\/es\\/viaje\\/gana-un-viaje-a-nyc-y-sientete-como-un-local",valueIsRegex:!0},{value:"\\/barcelona\\/es\\/es_ES\\/pages\\/131854",valueIsRegex:!0},{value:"\\/madrid\\/es\\/viaje\\/gana-dos-vuelos-a-nueva-york",valueIsRegex:!0},{value:"\\/madrid\\/es\\/es_ES\\/pages\\/131563",valueIsRegex:!0},{value:"\\/paris\\/voyage\\/gagnez-deux-billets-davion-pour-new-york",valueIsRegex:!0},{value:"\\/paris\\/fr\\/pages\\/132039",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<style>\n.image_wrapper--quiz:after {\n    padding-top: 185%;\n}\n\n@media (min-width: 480px) { \n    .image_wrapper--quiz:after {\n        padding-top: 75%;\n    }\n}\n</style>",language:"html"}}]},{id:"RLcc42a87d55e54742b998e5b5db68c75c",name:"All cities set UID and Refid cookies",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'(function() {\n  //email uid\n  var uid = _satellite.getVar("uid url param");\n\n  if (typeof uid != "undefined" && uid.length > 0) {\n    _satellite.cookie.set("_TO_Emailuid", uid, 1);\n  }\n\n  //refid\n  if (_satellite.getVar("refid") != undefined) {\n    _satellite.cookie.set(\n      "dtm_refid",\n      _satellite.getVar("refid"),\n      3\n    );\n  }\n})();',language:"javascript"}}]},{id:"RL97414ea7ad4a434bb6383c5f6925a6c4",name:"DRD-394 - Linkby Pubfeed Rollout",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(window.digitalData&&window.digitalData.page&&window.digitalData.page.category&&window.digitalData.page.pageInfo){var e=window.digitalData.page.category.pageType,t=window.digitalData.page.category.pageTags.map((e=>e.toLowerCase()))||[],n=window.digitalData.page.pageInfo.city;if(("feature"===e||"listfeature"===e)&&["Sydney","Melbourne","Brisbane","Adelaide","Perth"].includes(n)&&t.length>0&&(t.includes("things to do")||t.includes("shopping")))return!0}return!1}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/c14561a2dfc3/ce17cde24645/394a873f99e0/RCf9509d7f158a4971ab6a70fd0a29427b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd9f3d8cbbba0403088eb04b63e040eec",name:"DRD-343 - Add Get Listed tracking",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/manchester/things-to-do/time-out-love-local-awards-2021"},{value:"/edinburgh/things-to-do/time-out-love-local-awards-2021"},{value:"/581/en_GB/pages/148472"},{value:"/575/en_GB/pages/148471"},{value:"/22/en_US/pages/148441?preview=true"},{value:"/los-angeles/things-to-do/time-out-love-local-awards"},{value:"/42/en_US/pages/148440?preview=true"},{value:"/chicago/things-to-do/time-out-love-local-awards"},{value:"/608/fr/pages/148436?preview=true"},{value:"/london/things-to-do/time-out-love-local-awards-2021"},{value:"/592/en_GB/pages/148327"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/c14561a2dfc3/ce17cde24645/394a873f99e0/RC4d2c69eeea6245feaa0d44719d662ac8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf434e52196814631a6a8d080eaf02373",name:"DRD-344 - venues - nominate button",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e={London:["en"],"New York":["en"],Paris:["fr"],Barcelona:["ca","es"],Chicago:["en"],"Los Angeles":["en"],Madrid:["es"],Lisboa:["pt"],Porto:["pt"],Montreal:["en","fr"],Miami:["en"],Boston:["en"],Edinburgh:["en"],Manchester:["en"]},t=window.digitalData.page.category.pageType,n=window.digitalData.page.pageInfo.language,r=window.digitalData.page.pageInfo.city;return"venue"===t&&e[r]&&e[r].includes(n)}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/c14561a2dfc3/ce17cde24645/394a873f99e0/RC28842c8bc7a242cf958aa12b99653995-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL93ae120788b14af4a48acd814b41bed0",name:"DRD-391 - AB test short video",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=window.digitalData.page.category.pageType,t=window.digitalData.page.pageInfo.language,n=window.digitalData.page.pageInfo.siteId,r=window.digitalData.page.pageInfo.pageID;return"listfeature"===e&&"en"===t&&"uk-london"===n&&"40457"===r}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"// eslint-disable-next-line func-names\n(function(win, doc) {\n  var config = [\n    {\n      imageId: '100769399',\n      youtubeId: '9zru5uTBW2M',\n      thumbnail: 'https://media.timeout.com/images/105837283/image.jpg',\n    },\n    {\n      imageId: '105318047',\n      youtubeId: 'k0n5NyO5A6k',\n      thumbnail: 'https://media.timeout.com/images/105837287/image.jpg',\n    },\n    {\n      imageId: '105495885',\n      youtubeId: '6pme8qnIp1k',\n      thumbnail: 'https://media.timeout.com/images/105837289/image.jpg',\n    },\n    {\n      imageId: '117507',\n      youtubeId: 'WY9KwKLvryo',\n      thumbnail: 'https://media.timeout.com/images/105837288/image.jpg',\n    },\n  ];\n  var eventData = {\n    pev2: 'drd-391 - video click',\n  };\n\n  function getYoutubeEmbed(youtubeId, thumbnail) {\n    return `\n      <div class=\"video\">\n        <div \n          class=\"video ab-test-lazy-youtube\" \n          data-component=\"lazy-youtube\" \n          data-src=\"https://www.youtube.com/embed/${youtubeId}?rel=0&amp;showinfo=0&amp;autoplay=1&amp;enablejsapi=1\">\n          <img data-track-click='${JSON.stringify(eventData)}' class=\"video_splash ls-is-cached lazyloaded\" data-src=\"${thumbnail}\" src=\"${thumbnail}\">\n          <span class=\"play_button\" style=\"display: none;\"></span>\n        </div>\n      </div>\n   `;\n  }\n\n  function changeYoutubeElem(img, youtubeId, thumbnail) {\n    var video = document.createElement('figure');\n    var parent;\n    var placeholder;\n\n    video.setAttribute('class', 'op-interactive');\n    video.innerHTML = getYoutubeEmbed(youtubeId, thumbnail);\n\n    parent = img.closest('.tileImageLink');\n    placeholder = parent ? parent : img;\n\n    placeholder.parentNode.replaceChild(video, placeholder);\n\n    document.querySelectorAll('.ab-test-lazy-youtube').forEach((elem) => {\n      window._TO.lazyYoutube(elem);\n    });\n  }\n\n  function onDomReady() {\n    var selectorImages = config.map(function selectorLoop(item) {\n      return `img[src*=\"${item.imageId}\"]`;\n    }).join(',');\n    var imagesToBeReplaced;\n\n    imagesToBeReplaced = Array.from(document.querySelectorAll(\n      selectorImages\n    ));\n\n    config.forEach(function configLoop(item) {\n      imagesToBeReplaced.forEach(function linksLoop(elem) {\n        if (elem.getAttribute('src').includes(item.imageId)) {\n          changeYoutubeElem(elem, item.youtubeId, item.thumbnail);\n        }\n      });\n    });\n  }\n\n  /**\n   * Set ab test conditions.\n   * This is a 2 way test.\n   *\n   * Variant - [50, 99]\n   * Control - [0, 49]\n   *\n   * @return {undefined}\n   */\n  function setup() {\n    var abDieRollValue = win._satellite.cookie.get('_TO_AB_Testing');\n    var parsedValue;\n\n    if (!abDieRollValue) {\n      return;\n    }\n\n    parsedValue = parseInt(abDieRollValue, 10);\n\n    if (parsedValue < 50) {\n      return;\n    }\n\n    win._TO = window._TO || {};\n    win._TO.preventSlotTypes = win._TO.preventSlotTypes || [];\n    win._TO.preventSlotTypes.push('inline');\n    win.abTestShortVideo = true;\n\n    doc.addEventListener('DOMContentLoaded', onDomReady, false);\n  }\n\n  setup();\n})(window, document);\n",language:"javascript"}}]},{id:"RLa8ec71c11c3b4d48ab191f57bc7e77bc",name:"DRD-276 - gyg analytics",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=["feature","listfeature"],t=window.digitalData.page.category.pageType,n=window.digitalData.page.pageInfo.language;return e.includes(t)&&"en"===n}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/c14561a2dfc3/ce17cde24645/394a873f99e0/RCca1564345073436597248c47b96c5e7a-source.min.js",language:"javascript",isExternal:!0}}]},{
id:"RLd3b6e0191de04b90b435127551156615",name:"DRD-427 a/b test short form video on venue page",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/c14561a2dfc3/ce17cde24645/394a873f99e0/RC172250ad878b40cbaf836eac7f1143e4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL807cda0bec17434a8bc162988086353b",name:"DRD-544 - AB test cross link format",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/music/how-abbas-virtual-concerts-could-change-the-face-of-live-music-in-2022",valueIsRegex:!0},{value:"/music/the-50-best-karaoke-songs-ever",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/c14561a2dfc3/ce17cde24645/394a873f99e0/RCb70e038c2b614bed92fb8737af3971ae-source.min.js",language:"javascript",isExternal:!0}}]}]};var _satellite=function(){"use strict";function e(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function t(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}function n(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}function r(e){var t={exports:{}};return e(t,t.exports),t.exports}function a(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}function o(e){return Boolean(e&&void 0!==e.length)}function i(){}function s(e,t){return function(){e.apply(t,arguments)}}function c(e){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],g(e,this)}function u(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,c._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void d(t.promise,e)}l(t.promise,r)}else(1===e._state?l:d)(t.promise,e._value)}))):e._deferreds.push(t)}function l(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof c)return e._state=3,e._value=t,void f(e);if("function"==typeof n)return void g(s(n,t),e)}e._state=1,e._value=t,f(e)}catch(t){d(e,t)}}function d(e,t){e._state=2,e._value=t,f(e)}function f(e){2===e._state&&0===e._deferreds.length&&c._immediateFn((function(){e._handled||c._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)u(e,e._deferreds[t]);e._deferreds=null}function p(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function g(e,t){var n=!1;try{e((function(e){n||(n=!0,l(t,e))}),(function(e){n||(n=!0,d(t,e))}))}catch(e){if(n)return;n=!0,d(t,e)}}function m(e){return!0===Ge(e)&&"[object Object]"===Object.prototype.toString.call(e)}function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function v(e){return"string"==typeof e&&-1!==e.indexOf("[")&&-1!==e.indexOf("]")}function b(e){return e.substr(0,e.indexOf("["))}function y(e,t,n){if(e.length&&Je(t)){var r=e[0];if(1!==e.length){var a=e.slice(1);if(!v(r))return y(a,t[r],n);var o=t[r=b(r)];Array.isArray(o)&&o.forEach((function(e){return y(a,e,n)}))}else t.hasOwnProperty(r)&&"string"==typeof t[r]&&(t[r]=n(t[r]))}}if(window.atob){var w=document,j=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,I=t()?Object.assign:function(t){for(var n,r,a=e(t),o=1;o<arguments.length;o++){for(var i in n=Object(arguments[o]))x.call(n,i)&&(a[i]=n[i]);if(j){r=j(n);for(var s=0;s<r.length;s++)P.call(n,r[s])&&(a[r[s]]=n[r[s]])}}return a},D=I,E=window,_=function(e,t,n){var r,a=Array.isArray(t),o=Boolean(a&&e),i=document.createElement("a");if(i.href=e,(!/^https?:\/\/.*/.test(e)||!i.host)&&a){var s=new Error("Unable to find the Library Embed Code for Dynamic Host Resolution.");throw s.code="dynamic_host_resolver_constructor_error",s}if(a&&-1===t.indexOf(i.hostname)){var c=new Error("This library is not authorized for this domain. Please contact your CSM for more information.");throw c.code="dynamic_host_not_allowed",c}var u=function(){if(null!=r)return r;if(o){var e=i.host;/:80$/.test(e)?e=e.replace(":80",""):/:80\/$/.test(e)?e=e.replace(":80/",""):/:443$/.test(e)?e=e.replace(":443",""):/:443\/$/.test(e)&&(e=e.replace(":443/","")),r="https://"+e}else r="";return r},l=function(e){return o&&"string"==typeof e?[u(),"/"===e.charAt(0)?e.slice(1):e].join("/"):e},d={getTurbineHost:u,decorateWithDynamicHost:l,get isDynamicEnforced(){return a}};return E&&n.onDebugChanged((function(e){e?E.dynamicHostResolver=d:delete E.dynamicHostResolver})),d},T=function(e){var t=[];return e.forEach((function(e){e.events&&e.events.forEach((function(n){t.push({rule:e,event:n})}))})),t.sort((function(e,t){return e.event.ruleOrder-t.event.ruleOrder}))},C="debug",R=function(e,t){var n=function(){return"true"===e.getItem(C)},r=function(t){e.setItem(C,t)},a=[],o=function(e){a.push(e)};return t.outputEnabled=n(),{onDebugChanged:o,getDebugEnabled:n,setDebugEnabled:function(e){n()!==e&&(r(e),t.outputEnabled=e,a.forEach((function(t){t(e)})))}}},k="Module did not export a function.",O=function(e,t,n){return function(r,a,o){o=o||[];var i=e.getModuleExports(r.modulePath);if("function"!=typeof i)throw new Error(k);var s=e.getModuleDefinition(r.modulePath),c=r.settings||{};!r.hasTransformedFilePaths&&s.filePaths&&(n(c,s.filePaths,r.modulePath),r.hasTransformedFilePaths=!0);var u=t(c,a);return i.bind(null,u).apply(null,o)}},S=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e},L={LOG:"log",INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error"},A="\ud83d\ude80",V=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":A,N=!1,M=function(e){if(N&&window.console){var t=Array.prototype.slice.call(arguments,1);t.unshift(V),e!==L.DEBUG||window.console[e]||(e=L.INFO),window.console[e].apply(window.console,t)}},B=M.bind(null,L.LOG),q=M.bind(null,L.INFO),F=M.bind(null,L.DEBUG),U=M.bind(null,L.WARN),W=M.bind(null,L.ERROR),$=function(){var e=N;N=!0,M.apply(null,Array.prototype.concat(L.WARN,Array.prototype.slice.call(arguments))),e||(N=!1)},z={log:B,info:q,debug:F,warn:U,error:W,deprecation:$,get outputEnabled(){return N},set outputEnabled(e){N=e},createPrefixedLogger:function(e){var t="["+e+"]";return{log:B.bind(null,t),info:q.bind(null,t),debug:F.bind(null,t),warn:U.bind(null,t),error:W.bind(null,t)}}},H="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Q=r((function(e){!function(t){if(e.exports=t(),!!0){var n=window.Cookies,r=window.Cookies=t();r.noConflict=function(){return window.Cookies=n,r}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function n(r){function a(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},a.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var i=JSON.stringify(n);/^[\{\[]/.test(i)&&(n=i)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in o)o[c]&&(s+="; "+c,!0!==o[c]&&(s+="="+o[c].split(";")[0]));return document.cookie=t+"="+n+s}}function i(e,n){if("undefined"!=typeof document){for(var a={},o=document.cookie?document.cookie.split("; "):[],i=0;i<o.length;i++){var s=o[i].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=t(s[0]);if(c=(r.read||r)(c,u)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(a[u]=c,e===u)break}catch(e){}}return e?a[e]:a}}return a.set=o,a.get=function(e){return i(e,!1)},a.getJSON=function(e){return i(e,!0)},a.remove=function(t,n){o(t,"",e(n,{expires:-1}))},a.defaults={},a.withConverter=n,a}return n((function(){}))}))})),G={get:Q.get,set:Q.set,remove:Q.remove},J="com.adobe.reactor.",Y=function(e,t){var n=J+(t||"");return{getItem:function(t){try{return E[e].getItem(n+t)}catch(e){return null}},setItem:function(t,r){try{return E[e].setItem(n+t,r),!0}catch(e){return!1}}}},K="_sdsat_",Z="dataElements.",X="dataElementCookiesMigrated",ee=Y("localStorage"),te=Y("sessionStorage",Z),ne=Y("localStorage",Z),re={PAGEVIEW:"pageview",SESSION:"session",VISITOR:"visitor"},ae={},oe=function(e){var t;try{t=JSON.stringify(e)}catch(e){}return t},ie=function(e,t,n){var r;switch(t){case re.PAGEVIEW:return void(ae[e]=n);case re.SESSION:return void((r=oe(n))&&te.setItem(e,r));case re.VISITOR:return void((r=oe(n))&&ne.setItem(e,r))}},se=function(e,t){var n=G.get(K+e);void 0!==n&&ie(e,t,n)},ce=function(e){ee.getItem(X)||(Object.keys(e).forEach((function(t){se(t,e[t].storageDuration)})),ee.setItem(X,!0))},ue={setValue:ie,getValue:function(e,t){var n;switch(t){case re.PAGEVIEW:return ae.hasOwnProperty(e)?ae[e]:null;case re.SESSION:return null===(n=te.getItem(e))?n:JSON.parse(n);case re.VISITOR:return null===(n=ne.getItem(e))?n:JSON.parse(n)}},migrateCookieData:ce},le=function(e,t,n,r){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+n+(r?"\n"+r:"")},de=function(e,t,n,r,a){return function(o,i){var s=t(o);if(!s)return r?"":void 0;var c,u,l=s.storageDuration;try{c=e.getModuleExports(s.modulePath),u=e.getModuleDefinition(s.modulePath)}catch(e){return void z.error(le(s,o,e.message,e.stack))}if("function"==typeof c){var d,f=s.settings||{};!s.hasTransformedFilePaths&&u.filePaths&&(a(f,u.filePaths,s.modulePath),s.hasTransformedFilePaths=!0);try{d=c(n(f,i),i)}catch(e){return void z.error(le(s,o,e.message,e.stack))}return l&&(null!=d?ue.setValue(o,l,d):d=ue.getValue(o,l)),null==d&&null!=s.defaultValue&&(d=s.defaultValue),"string"==typeof d&&(s.cleanText&&(d=S(d)),s.forceLowerCase&&(d=d.toLowerCase())),d}z.error(le(s,o,"Module did not export a function."))}},fe={text:function(e){return e.textContent},cleanText:function(e){return S(e.textContent)}},pe=function(e,t,n){for(var r,a=e,o=0,i=t.length;o<i;o++){if(null==a)return;var s=t[o];if(n&&"@"===s.charAt(0)){var c=s.slice(1);a=fe[c](a)}else if(a.getAttribute&&(r=s.match(/^getAttribute\((.+)\)$/))){var u=r[1];a=a.getAttribute(u)}else a=a[s]}return a},ge=function(e,t,n){return function(r,a){var o;if(t(r))o=n(r,a);else{var i=r.split("."),s=i.shift();"this"===s?a&&(o=pe(a.element,i,!0)):"event"===s?a&&(o=pe(a,i)):"target"===s?a&&(o=pe(a.target,i)):o=pe(e[s],i)}return o}},me=function(e,t){return function(n){var r=n.split(".")[0];return Boolean(t(n)||"this"===r||"event"===r||"target"===r||e.hasOwnProperty(r))}},he=function(e,t,n){var r={exports:{}};return e.call(r.exports,r,r.exports,t,n),r.exports},ve=function(){var e={},t=function(t){var n=e[t];if(!n)throw new Error("Module "+t+" not found.");return n},n=function(){Object.keys(e).forEach((function(e){try{r(e)}catch(n){var t="Error initializing module "+e+". "+n.message+(n.stack?"\n"+n.stack:"");z.error(t)}}))},r=function(e){var n=t(e);return n.hasOwnProperty("exports")||(n.exports=he(n.definition.script,n.require,n.turbine)),n.exports};return{registerModule:function(t,n,r,a,o){var i={definition:n,extensionName:r,require:a,turbine:o};i.require=a,e[t]=i},hydrateCache:n,getModuleExports:r,getModuleDefinition:function(e){return t(e).definition},getModuleExtensionName:function(e){return t(e).extensionName}}},be=!1,ye=function(e){return function(t,n){var r=e._monitors;r&&(be||(z.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),be=!0),r.forEach((function(e){e[t]&&e[t](n)})))}},we=function(e,t,n){var r,a,o,i,s=[],c=function(r,a,o){if(!e(a))return r;s.push(a);var i=t(a,o);return s.pop(),null==i&&n?"":i};return r=function(e,t){var n=/^%([^%]+)%$/.exec(e);return n?c(e,n[1],t):e.replace(/%(.+?)%/g,(function(e,n){return c(e,n,t)}))},a=function(e,t){for(var n={},r=Object.keys(e),a=0;a<r.length;a++){var o=r[a],s=e[o];n[o]=i(s,t)}return n},o=function(e,t){for(var n=[],r=0,a=e.length;r<a;r++)n.push(i(e[r],t));return n},i=function(e,t){return"string"==typeof e?r(e,t):Array.isArray(e)?o(e,t):"object"==typeof e&&null!==e?a(e,t):e},function(e,t){return s.length>10?(z.error("Data element circular reference detected: "+s.join(" -> ")),e):i(e,t)}},je=function(e){return function(){if("string"==typeof arguments[0])e[arguments[0]]=arguments[1];else if(arguments[0]){var t=arguments[0];for(var n in t)e[n]=t[n]}}},xe=setTimeout;c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){var n=new this.constructor(i);return u(this,new p(e,t,n)),n},c.prototype.finally=a,c.all=function(e){return new c((function(t,n){function r(e,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var s=o.then;if("function"==typeof s)return void s.call(o,(function(t){r(e,t)}),n)}a[e]=o,0==--i&&t(a)}catch(e){n(e)}}if(!o(e))return n(new TypeError("Promise.all accepts an array"));var a=Array.prototype.slice.call(e);if(0===a.length)return t([]);for(var i=a.length,s=0;s<a.length;s++)r(s,a[s])}))},c.resolve=function(e){return e&&"object"==typeof e&&e.constructor===c?e:new c((function(t){t(e)}))},c.reject=function(e){return new c((function(t,n){n(e)}))},c.race=function(e){return new c((function(t,n){if(!o(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,a=e.length;r<a;r++)c.resolve(e[r]).then(t,n)}))},c._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){xe(e,0)},c._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var Pe=n(Object.freeze({__proto__:null,default:c})),Ie="undefined"!=typeof window&&window.Promise||void 0!==H&&H.Promise||Pe.default||Pe,De=function(e,t,n){return function(r,a,o,i){return i.then((function(){var i,s=r.delayNext;return new Ie((function(t,n){var a=e(r,o,[o]);if(!s)return t();var c=r.timeout,u=new Ie((function(e,t){i=setTimeout((function(){t(new Error("A timeout occurred because the action took longer than "+c/1e3+" seconds to complete. "))}),c)}));Ie.race([a,u]).then(t,n)})).catch((function(e){return clearTimeout(i),e=t(e),n(r,a,e),Ie.reject(e)})).then((function(){clearTimeout(i)}))}))}},Ee=function(e,t,n,r,a){return function(o,i,s,c){return c.then((function(){var c;return new Ie((function(t,n){var r=e(o,s,[s]),a=o.timeout,i=new Ie((function(e,t){c=setTimeout((function(){t(new Error("A timeout occurred because the condition took longer than "+a/1e3+" seconds to complete. "))}),a)}));Ie.race([r,i]).then(t,n)})).catch((function(e){return clearTimeout(c),e=t(e),r(o,i,e),Ie.reject(e)})).then((function(e){if(clearTimeout(c),!n(o,e))return a(o,i),Ie.reject()}))}))}},_e=Ie.resolve(),Te=function(e,t,n){return function(r,a){return r.conditions&&r.conditions.forEach((function(t){_e=e(t,r,a,_e)})),r.actions&&r.actions.forEach((function(e){_e=t(e,r,a,_e)})),_e=(_e=_e.then((function(){n(r)}))).catch((function(){}))}},Ce=function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.then)},Re=function(e,t,n,r){return function(a,o){var i;if(a.conditions)for(var s=0;s<a.conditions.length;s++){i=a.conditions[s];try{var c=e(i,o,[o]);if(Ce(c))throw new Error("Rule component sequencing must be enabled on the property for this condition to function properly.");if(!t(i,c))return n(i,a),!1}catch(e){return r(i,a,e),!1}}return!0}},ke=function(e,t){return function(n,r){e(n,r)&&t(n,r)}},Oe=function(e){return function(t){var n=e.getModuleDefinition(t.modulePath);return n&&n.displayName||t.modulePath}},Se=function(e){return function(t){var n=t.rule,r=t.event,a=e.getModuleDefinition(r.modulePath).name;return{$type:e.getModuleExtensionName(r.modulePath)+"."+a,$rule:{id:n.id,name:n.name}}}},Le=function(e,t,n,r,a,o){return function(i,s){var c=s.rule,u=s.event;u.settings=u.settings||{};try{var l=a(s);t(u,null,[function(t){var r=n(l,t);i((function(){e(r,c)}))}])}catch(e){o.error(r(u,c,e))}}},Ae=function(e,t,n,r){return function(a,o,i){var s=t(a);n.error(e(s,o.name,i)),r("ruleActionFailed",{rule:o,action:a})}},Ve=function(e,t,n,r){return function(a,o,i){var s=t(a);n.error(e(s,o.name,i)),r("ruleConditionFailed",{rule:o,condition:a})}},Ne=function(e,t,n){return function(r,a){var o=e(r);t.log('Condition "'+o+'" for rule "'+a.name+'" was not met.'),n("ruleConditionFailed",{rule:a,condition:r})}},Me=function(e,t){return function(n){e.log('Rule "'+n.name+'" fired.'),t("ruleCompleted",{rule:n})}},Be=function(e,t,n){return function(r,a){var o;if(r.actions)for(var i=0;i<r.actions.length;i++){o=r.actions[i];try{e(o,a,[a])}catch(e){return void t(o,r,e)}}n(r)}},qe=function(e,t,n,r){return function(a,o){r("ruleTriggered",{rule:o}),e?n(o,a):t(o,a)}},Fe=function(e,t,n){return'Failed to execute "'+e+'" for "'+t+'" rule. '+n.message+(n.stack?"\n"+n.stack:"")},Ue=function(e,t){return t&&!e.negate||!t&&e.negate},We=[],$e=!1,ze=function(e){$e?e():We.push(e)},He=function(e,t,n){e(t).forEach((function(e){n(ze,e)})),$e=!0,We.forEach((function(e){e()})),We=[]},Qe=function(e){if(e||(e=new Error("The extension triggered an error, but no error information was provided.")),!(e instanceof Error)){var t="object"==typeof e?JSON.stringify(e):String(e);e=new Error(t)}return e},Ge=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)},Je=function(e){var t,n;return!1!==m(e)&&("function"==typeof(t=e.constructor)&&(!1!==m(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))},Ye=function(e,t){return Je(t=t||{})?t=D({},t,e):D(t,e),t.hasOwnProperty("type")||Object.defineProperty(t,"type",{get:function(){return z.deprecation("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),t.$type}}),t},Ke=function(e,t){return function(n,r){var a=e[n];if(a){var o=a.modules;if(o)for(var i=Object.keys(o),s=0;s<i.length;s++){var c=i[s],u=o[c];if(u.shared&&u.name===r)return t.getModuleExports(c)}}}},Ze=function(e,t){return function(){return t?e(t):{}}},Xe=function(e,t,n){return function(r){if(n){var a=r.split(".");a.splice(a.length-1||1,0,"min"),r=a.join(".")}return e(t)+r}},et=".js",tt=function(e){return e.substr(0,e.lastIndexOf("/"))},nt=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},rt=function(e,t){nt(t,et)||(t+=et);var n=t.split("/"),r=tt(e).split("/");return n.forEach((function(e){e&&"."!==e&&(".."===e?r.length&&r.pop():r.push(e))})),r.join("/")},at=function(e,t){return new Ie((function(n,r){t.onload=function(){n(t)},t.onerror=function(){r(new Error("Failed to load script "+e))}}))},ot=function(e){var t=document.createElement("script");t.src=e,t.async=!0;var n=at(e,t);return document.getElementsByTagName("head")[0].appendChild(t),n},it=function(e,t,n,r){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var o=/\+/g;e=e.split(t);var i=1e3;r&&"number"==typeof r.maxKeys&&(i=r.maxKeys);var s=e.length;i>0&&s>i&&(s=i);for(var c=0;c<s;++c){var u,l,d,f,p=e[c].replace(o,"%20"),g=p.indexOf(n);g>=0?(u=p.substr(0,g),l=p.substr(g+1)):(u=p,l=""),d=decodeURIComponent(u),f=decodeURIComponent(l),h(a,d)?Array.isArray(a[d])?a[d].push(f):a[d]=[a[d],f]:a[d]=f}return a},st=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},ct=function(e,t,n,r){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(r){var a=encodeURIComponent(st(r))+n;return Array.isArray(e[r])?e[r].map((function(e){return a+encodeURIComponent(st(e))})).join(t):a+encodeURIComponent(st(e[r]))})).join(t):r?encodeURIComponent(st(r))+n+encodeURIComponent(st(e)):""},ut=r((function(e,t){t.decode=t.parse=it,t.encode=t.stringify=ct})),lt="@adobe/reactor-",dt={cookie:G,document:w,"load-script":ot,"object-assign":D,promise:Ie,"query-string":{parse:function(e){return"string"==typeof e&&(e=e.trim().replace(/^[?#&]/,"")),ut.parse(e)},stringify:function(e){return ut.stringify(e)}},window:E},ft=function(e){return function(t){if(0===t.indexOf(lt)){var n=t.substr(lt.length),r=dt[n];if(r)return r}if(0===t.indexOf("./")||0===t.indexOf("../"))return e(t);throw new Error('Cannot resolve module "'+t+'".')}},pt=function(e,t,n,r,a,o,i){var s=e.extensions,c=e.buildInfo,u=e.environment,l=e.property.settings;if(s){var d=Ke(s,t);Object.keys(s).forEach((function(f){var p=s[f],g=p.settings;Array.isArray(p.filePaths)&&(g=o(g,p.filePaths));var m=Ze(r,g);if(p.modules){var h=z.createPrefixedLogger(p.displayName),v=Xe(i,p.hostedLibFilesBaseUrl,c.minified),b={buildInfo:c,environment:u,property:{name:e.property.name,id:e.property.id},getDataElementValue:a,getExtensionSettings:m,getHostedLibFileUrl:v,getSharedModule:d,logger:h,propertySettings:l,replaceTokens:r,onDebugChanged:n.onDebugChanged,get debugEnabled(){return n.getDebugEnabled()}};Object.keys(p.modules).forEach((function(e){var n=p.modules[e],r=ft((function(n){var r=rt(e,n);return t.getModuleExports(r)}));t.registerModule(e,n,f,r,b)}))}})),t.hydrateCache()}return t},gt=function(e,t,n,r,a){var o=z.createPrefixedLogger("Custom Script");e.track=function(e){z.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:t.property.name,id:t.property.id},e.company=t.company,e.buildInfo=t.buildInfo,e.environment=t.environment,e.logger=o,e.notify=function(e,t){switch(z.deprecation("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),t){case 3:o.info(e);break;case 4:o.warn(e);break;case 5:o.error(e);break;default:o.log(e)}},e.getVar=r,e.setVar=a,e.setCookie=function(e,t,n){var r="",a={};n&&(r=", { expires: "+n+" }",a.expires=n);var o='_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+t+'"'+r+").";z.deprecation(o),G.set(e,t,a)},e.readCookie=function(e){return z.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),G.get(e)},e.removeCookie=function(e){z.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),G.remove(e)},e.cookie=G,e.pageBottom=function(){},e.setDebug=n;var i=!1;Object.defineProperty(e,"_container",{get:function(){return i||(z.warn("_satellite._container may change at any time and should only be used for debugging."),i=!0),t}})},mt=function(e){for(var t=w.querySelectorAll("script"),n=0;n<t.length;n++){var r=t[n];if(e.test(r.src))return r}},ht=function(e,t){return function(n,r,a){return e&&Je(n)&&Object.keys(n).length&&Array.isArray(r)&&r.length?(r.forEach((function(e){Boolean(null!=a&&/^core\/.*actions.*\/customCode\.js$/.test(a))&&"source"===e&&!n.isExternal||y(e.split("."),n,t)})),n):n}},vt={getTurbine:function(){return mt(new RegExp(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/))},byRegexPattern:mt}.getTurbine,bt=window._satellite;if(bt&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var yt=bt.container;delete bt.container;var wt=D({},yt.buildInfo);Object.defineProperty(wt,"environment",{get:function(){return z.deprecation("container.buildInfo.environment is deprecated.Please use `container.environment.stage` instead"),yt.environment.stage}}),yt.buildInfo=wt;var jt,xt=R(Y("localStorage"),z),Pt="";w.currentScript&&w.currentScript.getAttribute("src")?Pt=w.currentScript.getAttribute("src"):vt()&&(Pt=vt().getAttribute("src"));try{jt=_(Pt,yt.company.cdnAllowList,xt)}catch(e){throw z.warn("Please review the following error:"),e}var It,Dt=ht(jt.isDynamicEnforced,jt.decorateWithDynamicHost),Et=ve(),_t=yt.property.settings.undefinedVarsReturnEmpty,Tt=yt.property.settings.ruleComponentSequencingEnabled,Ct=yt.dataElements||{};ue.migrateCookieData(Ct);var Rt=function(e){return Ct[e]},kt=function(){return It.apply(null,arguments)},Ot=de(Et,Rt,kt,_t,Dt),St={},Lt=je(St),At=me(St,Rt),Vt=ge(St,Rt,Ot);It=we(At,Vt,_t),gt(bt,yt,xt.setDebugEnabled,Vt,Lt),pt(yt,Et,xt,It,Ot,Dt,jt.decorateWithDynamicHost);var Nt=ye(bt),Mt=O(Et,It,Dt),Bt=Oe(Et),qt=Ne(Bt,z,Nt),Ft=Ve(Fe,Bt,z,Nt),Ut=Ae(Fe,Bt,z,Nt),Wt=Me(z,Nt),$t=Le(qe(Tt,ke(Re(Mt,Ue,qt,Ft),Be(Mt,Ut,Wt)),Te(Ee(Mt,Qe,Ue,Ft,qt),De(Mt,Qe,Ut),Wt),Nt),Mt,Ye,Fe,Se(Et),z);He(T,yt.rules||[],$t)}return bt}console.warn("Adobe Launch is unsupported in IE 9 and below.")}();